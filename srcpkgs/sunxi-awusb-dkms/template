# Template file for 'sunxi-awusb-dkms'
pkgname=sunxi-awusb-dkms
version=0.5
revision=1
wrksrc=sunxi-awusb-0ae5f3ba24a7a8388d16550075c4d42c90e44d3e
depends="dkms"
short_desc="DKMS module for Allwinner devices"
maintainer="Urs Schulz <voidpkgs@ursschulz.de>"
license="GPL-3.0-or-later"
homepage="https://github.com/M0Rf30/sunxi-awusb"
distfiles="https://github.com/M0Rf30/sunxi-awusb/archive/0ae5f3ba24a7a8388d16550075c4d42c90e44d3e.tar.gz"
checksum=f02e47c0b82da448fd970a4e5d1d568a358696ecc5ea1ea45cc830b03a144953
dkms_modules="sunxi-awusb ${version}"

do_install() {
	dst="usr/src/sunxi-awusb-${version}"
	vmkdir $dst
	vcopy Makefile $dst
	vcopy awusb.c $dst
	vcopy dkms.conf $dst

	dst="usr/lib/udev/rules.d/"
	vmkdir $dst
	vcopy udev/50-awusb.rules $dst

	vdoc "README.md"
}
